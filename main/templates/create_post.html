{% include 'header.html' %}
        <div class="page-title">
            <script src="https://cdn.ckeditor.com/ckeditor5/41.2.0/classic/ckeditor.js"></script>
            <div class="container">
                <div class="row">
                    <div class="col-lg-12 text-center">
                        <h1>{{ page_title }}</h1>
                        <p class="lead">{{ page_subtitle }}</p>
                    </div>
                </div>
            </div>
        </div>
<section class="site-section">
    <div class="container">
        <div class="row">
            <div class="content col-lg-12">
                <div class="single-page clearfix">
                    <hr class="invis1">
                    <div class="row contact-row">
                        <div class="col-lg-8 col-md-8 col-sm-12 col-xs-12">
                            <div class="form-wrapper">
                                <form method="POST" action= '' enctype="multipart/form-data" class="row contact-form">
                                    {{ form.hidden_tag() }}
                                    <div class="form-group col-lg-12" input type="text" class="form-control">
                                        {{ form.title.label(class="form-control-label") }}
                                        {% if form.title.errors %}
                                            {{ form.title(class="form-control form-control-lg is-invalid") }}
                                            <div class="invalid-feedback">
                                                {% for error in form.title.errors%}
                                                <span>{{ error }}</span>
                                                {% endfor %}
                                            </div>
                                        {% else %}
                                            {{ form.title(class="form-control form-control-lg") }}
                                        {% endif %}
                                    </div>
                                    <div class="form-group col-lg-12" input type="text" class="form-control">
                                        {{ form.introduction.label(class="form-control-label") }}
                                        {% if form.introduction.errors %}
                                            {{ form.introduction(class="form-control form-control-lg is-invalid") }}
                                            <div class="invalid-feedback">
                                                {% for error in form.introduction.errors %}
                                                <span>{{ error }}</span>
                                                {% endfor %}
                                            </div>
                                        {% else %}
                                            {{ form.introduction(class="form-control form-control-lg") }}
                                        {% endif %}
                                    </div>
                                    <div class="form-group col-lg-12" input type="text" class="form-control">
                                        {{ form.category.label(class="form-control-label") }}
                                        {% if form.category.errors %}
                                            {{ form.category(class="form-control form-control-lg is-invalid") }}
                                            <div class="invalid-feedback">
                                                {% for error in form.category.errors%}
                                                <span>{{ error }}</span>
                                                {% endfor %}
                                            </div>
                                        {% else %}
                                            {{ form.category(class="form-control form-control-lg") }}
                                        {% endif %}
                                    </div>
                                    <div class="form-group col-lg-6" input type="text" class="form-control">
                                        {{ form.image_filename.label(class="form-control-label") }}
                                        {% if form.image_filename.errors %}
                                            {{ form.image_filename(class="form-control form-control-lg is-invalid") }}
                                            <div class="invalid-feedback">
                                                {% for error in form.image_filename.errors%}
                                                <span>{{ error }}</span>
                                                {% endfor %}
                                            </div>
                                        {% else %}
                                            {{ form.image_filename(class="form-control form-control-lg") }}
                                        {% endif %}
                                    </div>

                                    <div class="form-group col-lg-6" input type="text" class="form-control">
                                        {{ form.image_title.label(class="form-control-label") }}
                                        {% if form.image_title.errors %}
                                            {{ form.image_title(class="form-control form-control-lg is-invalid") }}
                                            <div class="invalid-feedback">
                                                {% for error in form.image_title.errors%}
                                                <span>{{ error }}</span>
                                                {% endfor %}
                                            </div>
                                        {% else %}
                                            {{ form.image_title(class="form-control form-control-lg") }}
                                        {% endif %}
                                    </div>
<!--                                    <div class="form-group col-lg-12 form-control">-->
<!--                                        {{ form.content.label(class="form-control-label") }}-->
<!--                                        {% if form.content.errors %}-->
<!--                                            {{ form.content(class="form-control form-control-lg is-invalid")|safe }}-->
<!--                                            <div class="invalid-feedback">-->
<!--                                                {% for error in form.content.errors%}-->
<!--                                                <span>{{ error }}</span>-->
<!--                                                {% endfor %}-->
<!--                                            </div>-->
<!--                                        {% else %}-->
<!--                                            {{ form.content(class="form-control form-control-lg")|safe }}-->
<!--                                            {{ ckeditor.load() }}-->
<!--                                            {{ ckeditor.config(name='form.content') }}-->
<!--                                        {% endif %}-->
<!--                                    </div>-->
                                    <div class="form-group col-lg-12 form-control">
                                        {{ form.content.label(class="form-control-label") }}
                                        <div id="editor"></div>
                                        <script>
                                            ClassicEditor
                                                .create(document.querySelector('#editor'))
                                                .then(editor => {
                                                    editor.model.document.on('change:data', () => {
                                                        const data = editor.getData();
                                                        // Set the value of the form's content field
                                                        document.getElementById('{{ form.content.id }}').value = data;
                                                    });
                                                })
                                                .catch(error => {
                                                    console.error(error);
                                                });
                                        </script>
                                        {% if form.content.errors %}
                                            {{ form.content(class="form-control form-control-lg is-invalid") |safe }}
                                            <div class="invalid-feedback">
                                                {% for error in form.content.errors %}
                                                    <span>{{ error }}</span>
                                                {% endfor %}
                                            </div>
                                        {% else %}
                                            {{ form.content(class="form-control form-control-lg")|safe }}
                                        {% endif %}
                                    </div>
                                    <div class="form-group col-lg-12">
                                        {{ form.submit(class="btn btn-primary") }}
                                    </div>
                                </form>
                            </div><!-- end form -->
                        </div><!-- end col -->
                        {% include 'sidebar.html' %}
                    </div><!-- end row -->
                </div><!-- end single-page -->
            </div><!-- end content -->
        </div><!-- end row -->
    </div><!-- end container -->
</section><!-- end section -->

{% include 'footer.html' %}


